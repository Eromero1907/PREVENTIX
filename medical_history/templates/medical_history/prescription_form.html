{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 class="my-4">{% if prescription %}Editar{% else %}Nueva{% endif %} Prescripción</h1>

    <div class="card">
        <div class="card-body">
            <form method="post">
                {% csrf_token %}
                
                <div class="mb-3">
                    <label for="{{ form.medication.id_for_label }}" class="form-label">Medicamento</label>
                    {{ form.medication }}
                    <small class="form-text text-muted">Nombre del medicamento prescrito.</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.unit_per_dose.id_for_label }}" class="form-label">Cantidad por dosis</label>
                    {{ form.unit_per_dose }}
                    <small class="form-text text-muted">Cantidad de medicamento que debe tomarse o administrarse por dosis (por ejemplo, 1, 2, 5).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.dosage_amount.id_for_label }}" class="form-label">Cantidad de dosis</label>
                    {{ form.dosage_amount }}
                    <small class="form-text text-muted">Cantidad de medicamento por toma (por ejemplo, 500mg, 10ml), si aplica.</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.dosage_unit.id_for_label }}" class="form-label">Unidad de dosis</label>
                    {{ form.dosage_unit }}
                    <small class="form-text text-muted">Unidad de medida de la dosis (por ejemplo, mg, ml, tabletas, cápsulas).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.interval_hours.id_for_label }}" class="form-label">Intervalo entre dosis (horas)</label>
                    {{ form.interval_hours }}
                    <small class="form-text text-muted">Número de horas entre cada dosis (por ejemplo, 4 horas, 8 horas).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.duration_days.id_for_label }}" class="form-label">Duración del tratamiento (días)</label>
                    {{ form.duration_days }}
                    <small class="form-text text-muted">Número total de días que durará el tratamiento (por ejemplo, 7 días, 30 días).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.start_date.id_for_label }}" class="form-label">Fecha de inicio</label>
                    {{ form.start_date }}
                    <small class="form-text text-muted">Fecha en la que comienza el tratamiento (formato: dd/mm/aaaa).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.administration_method.id_for_label }}" class="form-label">Método de administración</label>
                    {{ form.administration_method }}
                    <small class="form-text text-muted">Selecciona cómo se debe administrar el medicamento (oral, inyección, tópico, etc.).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.restrictions.id_for_label }}" class="form-label">Restricciones</label>
                    {{ form.restrictions }}
                    <small class="form-text text-muted">Cualquier restricción o precaución relacionada con el uso del medicamento (por ejemplo, evitar alcohol, tomar con comida, etc.).</small>
                </div>

                <div class="mb-3">
                    <label for="{{ form.description.id_for_label }}" class="form-label">Descripción</label>
                    {{ form.description }}
                    <small class="form-text text-muted">Detalles adicionales sobre la prescripción (por ejemplo, instrucciones especiales o efectos secundarios).</small>
                </div>

                <button type="submit" class="btn btn-primary">
                    {% if prescription %}Actualizar{% else %}Crear{% endif %}
                </button>
                <a href="{% url 'prescription_list' %}" class="btn btn-secondary">Volver a la lista</a>
            </form>
        </div>
    </div>
</div>
{% endblock %}
